(this["webpackJsonpstock-lookup"]=this["webpackJsonpstock-lookup"]||[]).push([[0],{53:function(e,t,c){},59:function(e,t,c){},63:function(e,t,c){},64:function(e,t,c){},68:function(e,t,c){},69:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(19),r=c.n(a),s=(c(53),c(26)),o=c(20),i=c(9),l=c(7),j=c(16),u=c(1),d=function(){var e={color:"#F15B2A"};return Object(u.jsxs)("nav",{children:[Object(u.jsx)(j.c,{to:"/",activeStyle:e,exact:!0,children:"Home"})," | ",Object(u.jsx)(j.c,{to:"/stock",activeStyle:e,children:"Stock Page"})]})},h=(c(59),function(e){var t=e.checkPoint,c=e.handleCheckpointChange;return Object(u.jsxs)("div",{className:"st-checkpoint d-flex align-items-center",children:[Object(u.jsx)("span",{className:"mr-3",children:"Select checkpoint"}),Object(u.jsxs)("select",{value:t.time,name:"time",onChange:c,className:"custom-select mr-3",children:[Object(u.jsx)("option",{value:"1",children:"After One our"}),Object(u.jsx)("option",{value:"3",children:"After Two ours"}),Object(u.jsx)("option",{value:"5",children:"After Three ours"}),Object(u.jsx)("option",{value:"7",children:"After four ours"})]}),Object(u.jsx)("span",{className:"mr-3",children:"checkpoint value"}),Object(u.jsxs)("div",{className:"input-group",children:[Object(u.jsx)("input",{value:t.percent,type:"number",name:"percent",step:"0.5",className:"form-control",onChange:c}),Object(u.jsx)("div",{className:"input-group-append",children:Object(u.jsx)("span",{className:"input-group-text",children:"%"})})]})]})}),b=c(10),O=c.n(b),m=function(e,t){return parseFloat((100*(t-e)/e).toFixed(2))},p=function(e){if(O.a.isArray(e)){var t=e[0].datetime.split(" "),c=Object(i.a)(t,1)[0];return O.a.reduce(e,(function(e,t){var n=t.datetime.split(" "),a=Object(i.a)(n,2),r=a[0],s=a[1];return c===r||(e[r]||(e[r]=[])).push(Object(o.a)(Object(o.a)({},t),{},{day:r,time:s})),e}),{})}},f=function(e,t){var c=O()(e).map((function(e,c){try{var n=e[0].open,a=e[t.time].close,r=e[e.length-1].close,s=n<a&&a<r||n>a&&a>r,o=m(n,a),i=m(a,r);return{day:c,match:s,matchPercent:t.percent<=Math.abs(o),startOfDay:n,checkpointTime:a,endOfDay:r,checkpointTimePercentage:o,endOfDayPercentage:i}}catch(l){return console.warn("[analyzeStockData] - one error happened on day ".concat(c)),!1}})).compact().reverse().value();return""!==t.percent?O.a.filter(c,(function(e){return e.matchPercent})):c},x=c(45),v=c.n(x),k=c(33),g={ZM:"Zoom",NVDA:"NVIDIA",TSLA:"Tesla",PYPL:"PayPal",AAPL:"Apple",FB:"Facebook",PFE:"Pfizer",BA:"Boeing",BIDU:"Baidu",WFC:"Wells Fargo",CAT:"Caterpillar",NFLX:"Netflix",WMT:"Walmart",AMZN:"Amazon",INTC:"Intel",MSFT:"Microsoft",GOOG:"Alphabet",NKE:"Nike",GILD:"Gilead",CRM:"salesforce.com",JPM:"JPMorgan",ABT:"Abbott",MA:"MasterCard",DIS:"Walt Disney",JNJ:"J & J",ADBE:"Adobe",IBM:"IBM",BAC:"Bank Of America",MCD:"McDonald's",AVGO:"Broadcom",QCOM:"Qualcomm",BRK:"B  \tBerkshire Hathaway",BIIB:"Biogen",VZ:"Verizon",C:"Citi Group",T:"AT&T",BMY:"Bristol Myers",GS:"Goldman Sachs",KO:"Coca Cola",MS:"Morgan Stanley",NYSE:"Colgate-Palmolive",GE:"General Electric",V:"Visa",MMM:"3M",COP:"ConocoPhillips",MRK:"Merck",CSCO:"Cisco",SBUX:"Starbucks",PM:"Philip Morris",LMT:"Lockheed Martin"},S=function(){return g},y=function(){return localStorage.getItem("twelve-data-api-key")},C=function(e){return fetch("https://api.twelvedata.com/api_usage?apikey=".concat(e)).then((function(e){return e.json()})).then((function(t){if(t.code)throw t;return function(e){localStorage.setItem("twelve-data-api-key",e)}(e),t}),(function(e){return console.error(e),e}))},P=c(48),M=c(46),N=c(41),A=(c(63),function(e){var t=e.data;return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"badge ".concat(t.match?"badge-success":"badge-danger"),children:t.day}),Object(u.jsxs)("table",{className:"table table-bordered",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"col",children:"Match"}),Object(u.jsx)("th",{scope:"col",children:"Start Of Day"}),Object(u.jsx)("th",{scope:"col",children:"On Checkpoint"}),Object(u.jsx)("th",{scope:"col",children:"End Of Day"})]})}),Object(u.jsxs)("tbody",{children:[Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:t.startOfDay}),Object(u.jsx)("td",{children:t.startOfDay}),Object(u.jsx)("td",{children:t.checkpointTime}),Object(u.jsx)("td",{children:t.endOfDay})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{className:"table-icon-cell",children:Object(u.jsx)(M.a,{icon:t.match?N.b:N.a,className:t.match?"text-success":"text-danger"})}),Object(u.jsx)("td",{children:"-"}),Object(u.jsxs)("td",{className:t.checkpointTimePercentage>0?"text-success":"text-danger",children:[t.checkpointTimePercentage,"%"]}),Object(u.jsxs)("td",{className:t.endOfDayPercentage>0?"text-success":"text-danger",children:[t.endOfDayPercentage,"%"]})]})]})]})]})}),D=(c(64),function(e){var t=e.data,c=e.title,n=e.stockCode,a=t.length,r=O.a.filter(t,"match").length,s=O.a.filter(t,["match",!1]).length;return Object(u.jsxs)("div",{className:"summary-container",children:[c&&Object(u.jsx)("h4",{children:n?Object(u.jsx)(j.b,{to:"/stock/".concat(n),children:c}):c}),Object(u.jsxs)("div",{children:[Object(u.jsxs)("span",{className:"text-success mr-3",children:["Match: ",r]}),Object(u.jsxs)("span",{className:"text-danger mr-3",children:["Not Match: ",s]}),Object(u.jsxs)("span",{className:"text-primary mr-3",children:[(100*r/a).toFixed(0),"%"]})]})]})}),I=function(e){var t=e.currentStock,c=e.handleStockSelect,n=S();return Object(u.jsx)("select",{value:t,name:"stock-select",onChange:c,className:"custom-select",children:O.a.map(n,(function(e,t){return Object(u.jsx)("option",{value:t,children:e},t)}))})},B=function(e){var t=e.currentStock,c=e.analyticData,n=e.handleStockSelect,a=(Object(P.a)(e,["currentStock","analyticData","handleStockSelect"]),S());return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("h2",{children:[a[t]," Stock (",t,")"]}),Object(u.jsx)(I,{currentStock:t,handleStockSelect:n}),Object(u.jsx)(D,{data:c}),O.a.map(c,(function(e){return Object(u.jsx)("div",{children:Object(u.jsx)("div",{children:Object(u.jsx)(A,{data:e})})},e.day)}))]})},T=function(e){var t=e.checkPoint,c=(e.match,Object(l.f)().code),a=Object(n.useState)(null),r=Object(i.a)(a,2),s=r[0],o=r[1],j=Object(n.useState)(!1),d=Object(i.a)(j,2),h=d[0],b=d[1],O=Object(n.useState)(c||"AAPL"),m=Object(i.a)(O,2),x=m[0],g=m[1],S=Object(n.useState)([]),C=Object(i.a)(S,2),P=C[0],M=C[1],N=Object(n.useState)([]),A=Object(i.a)(N,2),D=A[0],I=A[1],T=Object(n.useState)([]),F=Object(i.a)(T,2),w=F[0],E=F[1];Object(n.useEffect)((function(){(function(e,t){var c=y(),n=v()().format("YYYY-MM-DD"),a="stock_".concat(e,"_").concat(n),r=Object(k.decompress)(localStorage.getItem(a)),s=Object.entries(localStorage).map((function(e){return e[0]})).find((function(t){return t.includes(e)})),o=null===s||void 0===s?void 0:s.split("_")[2];return s&&o&&o!==n&&localStorage.removeItem(s),r&&!t?new Promise((function(e){return e(JSON.parse(r))})):fetch("https://api.twelvedata.com/time_series?symbol=".concat(e,"&outputsize=2000&interval=30min&order=ASC&apikey=").concat(c)).then((function(e){var t=e.json();return t.then((function(e){return localStorage.setItem(a,Object(k.compress)(JSON.stringify(e)))})),t}))})(x).then((function(e){b(!0),M(e)}),(function(e){b(!0),o(e)}))}),[x]),Object(n.useEffect)((function(){I(p(P.values))}),[P]),Object(n.useEffect)((function(){E(f(D,t))}),[D,t]);return s?Object(u.jsxs)("div",{children:["Error: ",s.message]}):h?Object(u.jsx)(B,{analyticData:w,currentStock:x,handleStockSelect:function(e){e.preventDefault(),b(!1);var t=e.target.value;g(t)}}):Object(u.jsx)("h1",{children:"Loading..."})},F=function(e){var t=e.checkPoint,c=S(),a=Object(n.useState)([]),r=Object(i.a)(a,2),s=r[0],o=r[1];return Object(n.useEffect)((function(){var e=O()(Object.entries(localStorage)).filter((function(e){return e[0].includes("stock_")})).map((function(e){return[e[0],JSON.parse(Object(k.decompress)(e[1]))]})).value().map((function(e){var c=e[1],n=p(c.values);return{stockCode:c.meta.symbol,stockData:f(n,t)}}));o(e)}),[t]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{children:"Stock List"}),s.map((function(e){return Object(u.jsx)(D,{data:e.stockData,title:c[e.stockCode],stockCode:e.stockCode},e.stockCode)}))]})},w=c(73),E=c(74),L=c(75),G=c(72),J=function(e){var t=e.show,c=e.handleModalClose,a=Object(n.useState)(!1),r=Object(i.a)(a,2),s=r[0],o=r[1],l=Object(n.useState)(!1),j=Object(i.a)(l,2),d=j[0],h=j[1];return Object(u.jsxs)(w.a,{show:t,onHide:c,backdrop:"static",backdropClassName:"api-key-modal",centered:!0,children:[Object(u.jsx)(w.a.Header,{children:Object(u.jsx)(w.a.Title,{children:"Welcome"})}),Object(u.jsxs)(w.a.Body,{children:["please enter API Key",Object(u.jsxs)(E.a,{onSubmit:function(e){e.preventDefault(),h(!0),C(e.target.apikey.value).then((function(e){h(!1),c()})).catch((function(e){o(!0),h(!1),console.log(e)}))},children:[Object(u.jsx)(E.a.Group,{children:Object(u.jsx)(E.a.Control,{type:"text",name:"apikey",placeholder:"API Key"})}),s&&Object(u.jsx)(L.a,{variant:"danger",children:"API Key is invalid - try again"}),Object(u.jsx)(G.a,{variant:"primary",type:"submit",disabled:d,children:d?"Loading...":"Save API Key"})]})]}),Object(u.jsxs)(w.a.Footer,{children:[Object(u.jsxs)("p",{children:["If you don't have an API Key. Please Sign up to"," ",Object(u.jsx)("a",{href:"https://twelvedata.com/",rel:"noreferrer",target:"_blank",children:"TwelveData"})," ","and get it."]}),Object(u.jsx)("br",{}),Object(u.jsx)("p",{children:Object(u.jsx)("small",{children:"This app is made for my personal use. I have no intention to make profit out of it. I am not committing the app data is correct. The data calculation is made by me and with no professional knowledge."})})]})]})},K=function(){var e=Object(n.useState)({time:3,percent:""}),t=Object(i.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(!1),j=Object(i.a)(r,2),b=j[0],O=j[1];Object(n.useEffect)((function(){y()||O(!0)}),[]);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(d,{}),Object(u.jsxs)("div",{className:"jumbotron",children:[Object(u.jsx)(h,{checkPoint:c,handleCheckpointChange:function(e){e.preventDefault();var t=e.target,c=t.name,n=t.value,r=function(e,t){var c=Number(t);return"percent"!==e?c:c<.01||c>30?"":c}(c,n);a((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(s.a)({},c,r))}))}}),Object(u.jsxs)(l.c,{children:[Object(u.jsx)(l.a,{path:"/stock/:code",render:function(){return Object(u.jsx)(T,{checkPoint:c})}}),Object(u.jsx)(l.a,{path:"/stock",render:function(){return Object(u.jsx)(T,{checkPoint:c})}}),Object(u.jsx)(l.a,{path:"/",render:function(){return Object(u.jsx)(F,{checkPoint:c})}})]})]}),Object(u.jsx)(J,{show:b,handleModalClose:function(){return O(!1)}})]})};var V=function(){return Object(u.jsx)("div",{id:"stock-app",className:"container-fluid",children:Object(u.jsx)(K,{})})},Y=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,76)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))};c(66),c(67),c(68);r.a.render(Object(u.jsx)(j.a,{children:Object(u.jsx)(V,{})}),document.getElementById("root")),Y()}},[[69,1,2]]]);
//# sourceMappingURL=main.7d395433.chunk.js.map